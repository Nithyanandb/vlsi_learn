@tailwind base;
@tailwind components;
@tailwind utilities;

/* Apple-inspired Design System (system font first) */
:root {
  --apple-primary: #1c1c1e;
  /* use dark neutral as primary to keep UI B&W */
  --apple-secondary: #48484a;
  --apple-success: #34c759;
  --apple-warning: #ff9500;
  --apple-danger: #ff3b30;
  --apple-gray-50: #f9f9f9;
  --apple-gray-100: #f2f2f7;
  --apple-gray-200: #e5e5ea;
  --apple-gray-300: #d1d1d6;
  --apple-gray-400: #c7c7cc;
  --apple-gray-500: #aeaeb2;
  --apple-gray-600: #8e8e93;
  --apple-gray-700: #636366;
  --apple-gray-800: #48484a;
  --apple-gray-900: #1c1c1e;
}

* {
  box-sizing: border-box;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif;
  background-color: var(--apple-gray-50);
  color: var(--apple-gray-900);
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.apple-display {
  font-size: clamp(2.5rem, 5vw, 4rem);
  font-weight: 700;
  letter-spacing: -0.02em;
}

.apple-headline {
  font-size: clamp(2rem, 4vw, 3rem);
  font-weight: 600;
  letter-spacing: -0.01em;
}

.apple-title {
  font-size: clamp(1.5rem, 3vw, 2rem);
  font-weight: 600;
}

.apple-subtitle {
  font-size: clamp(1.125rem, 2vw, 1.5rem);
  font-weight: 500;
}

.apple-body {
  font-size: 1rem;
}

.apple-caption {
  font-size: 0.875rem;
  font-weight: 500;
  letter-spacing: 0.03em;
  text-transform: uppercase;
}

@layer components {

  /* Buttons (neutral grayscale) */
  .btn-apple-primary {
    @apply inline-flex items-center justify-center px-8 py-4 text-base font-semibold text-white bg-apple-gray-900 border-2 border-apple-gray-900 rounded-2xl transition-all duration-300 hover:bg-black hover:border-black hover:shadow-2xl hover:scale-105 focus:outline-none focus:ring-4 focus:ring-apple-gray-400/30 active:scale-95;
  }

  .btn-apple {
    @apply inline-flex items-center justify-center px-8 py-4 text-base font-semibold text-apple-gray-900 bg-transparent border-2 border-apple-gray-900 rounded-2xl transition-all duration-300 hover:bg-apple-gray-900 hover:text-white hover:shadow-2xl hover:scale-105 focus:outline-none focus:ring-4 focus:ring-apple-gray-400/30 active:scale-95;
  }

  .btn-apple-ghost {
    @apply inline-flex items-center justify-center px-6 py-3 text-base font-medium text-apple-gray-700 bg-white border border-apple-gray-200 rounded-xl transition-all duration-300 hover:bg-apple-gray-100 focus:outline-none focus:ring-2 focus:ring-apple-gray-400/20;
  }

  /* Cards */
  .card-apple {
    @apply bg-white rounded-3xl border border-apple-gray-200 shadow-sm transition-all duration-300 hover:shadow-xl hover:border-apple-gray-300;
  }

  .card-apple-elevated {
    @apply bg-white rounded-3xl border border-apple-gray-200 shadow-lg transition-all duration-300 hover:shadow-2xl hover:border-apple-gray-300;
  }

  .card-apple-glass {
    @apply bg-white/80 backdrop-blur-xl rounded-3xl border border-white/20 shadow-xl;
  }

  /* Forms */
  .input-apple {
    @apply w-full px-4 py-3 text-base border-2 border-apple-gray-200 rounded-2xl transition-all duration-300 focus:border-apple-gray-900 focus:ring-4 focus:ring-apple-gray-400/20 focus:outline-none placeholder:text-apple-gray-500;
  }

  /* Badges (neutral) */
  .badge-apple {
    @apply inline-flex items-center px-3 py-1 text-xs font-semibold rounded-full bg-apple-gray-200 text-apple-gray-800;
  }

  /* Tables */
  .table-apple {
    @apply w-full border-collapse;
  }

  .table-apple th {
    @apply px-6 py-4 text-left text-sm font-semibold text-apple-gray-700 bg-apple-gray-100 border-b border-apple-gray-200;
  }

  .table-apple td {
    @apply px-6 py-4 text-sm text-apple-gray-700 border-b border-apple-gray-100;
  }

  /* Legacy compatibility (card, buttons, inputs) */
  .card {
    @apply card-apple;
  }

  .btn-primary {
    @apply btn-apple-primary;
  }

  .btn-secondary {
    @apply btn-apple;
  }

  .input-field {
    @apply input-apple;
  }
}

@layer utilities {
  .container-apple {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  .section-apple {
    @apply py-16 lg:py-24;
  }

  .bg-grid-pattern {
    background-image: radial-gradient(circle at 1px 1px, rgba(0, 0, 0, 0.06) 1px, transparent 0);
    background-size: 24px 24px;
  }

  /* Tesla utility aliases */
  .container-tesla {
    @apply container-apple;
  }

  .section-tesla {
    @apply section-apple;
  }

  .section-tesla-sm {
    @apply py-12 lg:py-16;
  }

  .section-tesla-lg {
    @apply py-20 lg:py-32;
  }

  .grid-tesla {
    @apply grid gap-8 lg:gap-12;
  }

  .grid-tesla-2 {
    @apply grid-tesla lg:grid-cols-2;
  }

  .grid-tesla-3 {
    @apply grid-tesla lg:grid-cols-3;
  }

  .grid-tesla-4 {
    @apply grid-tesla lg:grid-cols-4;
  }

  .space-tesla>*+* {
    @apply mt-8;
  }

  .space-tesla-sm>*+* {
    @apply mt-6;
  }

  .space-tesla-lg>*+* {
    @apply mt-12;
  }
}

/* Map existing Tesla classes to Apple equivalents to avoid mass refactors */
@layer components {
  .btn-tesla-primary {
    @apply btn-apple-primary;
  }

  .btn-tesla-secondary {
    @apply btn-apple;
  }

  .btn-tesla-ghost {
    @apply btn-apple-ghost;
  }

  .card-tesla {
    @apply card-apple;
  }

  .card-tesla-elevated {
    @apply card-apple-elevated;
  }

  .card-tesla-glass {
    @apply card-apple-glass;
  }

  .input-tesla {
    @apply input-apple;
  }

  .badge-tesla-primary {
    @apply badge-apple;
  }

  .nav-tesla {
    @apply bg-white/90 backdrop-blur-xl border-b border-apple-gray-200 sticky top-0 z-50;
  }
}

/* Replace accent usages with neutrals */
.text-tesla-gray-900 {
  color: var(--apple-gray-900);
}

.text-tesla-gray-700 {
  color: var(--apple-gray-700);
}

.text-tesla-gray-600 {
  color: var(--apple-gray-600);
}

.text-tesla-gray-500 {
  color: var(--apple-gray-600);
}

.bg-tesla-gray-50 {
  background-color: var(--apple-gray-50);
}

.bg-tesla-gray-100 {
  background-color: var(--apple-gray-100);
}

.bg-tesla-accent\/10 {
  background-color: rgba(0, 0, 0, 0.06);
}

.text-tesla-accent {
  color: var(--apple-gray-900);
}

.bg-tesla-primary {
  background-color: var(--apple-gray-900);
}

/* Typography aliases */
.tesla-display {
  @apply apple-display;
}

.tesla-headline {
  @apply apple-headline;
}

.tesla-title {
  @apply apple-title;
}

.tesla-subtitle {
  @apply apple-subtitle;
}

.tesla-body {
  @apply apple-body;
}

.tesla-caption {
  @apply apple-caption;
}

/* Gradient text helper now neutral */
.gradient-text {
  background: linear-gradient(90deg, var(--apple-gray-700), var(--apple-gray-900));
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

/* Focus, selection, scrollbar */
*:focus-visible {
  @apply outline-none ring-4 ring-apple-gray-400/30;
}

::selection {
  background-color: rgba(0, 0, 0, 0.08);
  color: var(--apple-gray-900);
}

::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background-color: var(--apple-gray-100);
}

::-webkit-scrollbar-thumb {
  background-color: var(--apple-gray-300);
  border-radius: 9999px;
}

::-webkit-scrollbar-thumb:hover {
  background-color: var(--apple-gray-400);
}

.cursor-none {
  cursor: none !important;
}